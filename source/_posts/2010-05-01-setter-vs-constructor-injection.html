--- 
name: setter-vs-constructor-injection
layout: post
title: Setter vs Constructor Injection
time: 2010-05-01 09:18:00 +01:00
---
So what is the argument for / against? It can be a tough one to describe as I recently discovered.<br /><br />You can say that constructor injection forces an object to have its dependencies set explicitly and setter injection is open to forgetfulness but how powerful an argument is that really? Surely the tests would catch it if you miss a set call? Constructor injection does say upfront "this is what I need", so there's no "first call this, then this and don't forget this" - its explicit and you don't need to know the internals that setters try and expose. That's useful. But on the small, how complex do the combination of set calls get?<br /><br />I don't think that a large number of constructor arguments justifies defecting to the setter camp as the real smell here is often that the class is doing too much and/or has too <i>many</i> dependencies. It's often cited that the reason there are lots of setters is because of particular dependency injection framework leads you in that direction but why compromise (I should probably say, <i>comply</i>) because you're <i>told</i> to?<br /><br />How about the way the system would grow using constructors vs setters? I think this is where the real argument lies. You can move forward perfectly happily with either approach, content with the fact that dependencies are isolated. Testing becomes simpler, more focused on the objects under test and the earth continues to orbit the sun. Its only much later when the system is all but grown up that you can look back and reflect. Have setters contributed to creating a system that is assembled in a complex, disheveled way? Are you leaning on external (ahem, xml) configuration to manage this? Alternatively, has a constructor centric approach left you with a system with a more concise declarative assembly strategy? Which has more noise? You tell me...<br /><br /><div><img src="http://4.bp.blogspot.com/_-uMxV_fCbC4/SVInGoVdYJI/AAAAAAAAC08/I4RV1KzCyPo/s320/gibble_22x22.png" alt="" id="BLOGGER_PHOTO_ID_5283328307719135378" style="margin: 0pt 10px 10px 0pt; float: left; cursor: pointer; width: 22px; height: 22px;" border="0" /></div><div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/20485368-2877665575382959563?l=pequenoperro.blogspot.com' alt='' /></div>
