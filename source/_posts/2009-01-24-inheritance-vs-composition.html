--- 
name: inheritance-vs-composition
layout: post
title: Inheritance vs Composition
time: 2009-01-24 12:12:00 +00:00
---
When interviewing, I often like to ask a candidate to discuss inheritance vs composition using <span class="Apple-style-span"  style="font-family:'courier new';">Stack</span> as an example.<br /><br /><h3>Example 1.</h3><br /><br /><pre name="code" class="java:nogutter:nocontrols"><br />public class EvilStack&lt;T&gt; extends Vector&lt;T&gt; {<br />  public T pop() {<br />     // ...<br />  }<br />  public void push(T item) {<br />     // ...<br />  }<br />}<br /></pre><br /><br /><h3>Example 2</h3><br /><br /><pre name="code" class="java:nogutter:nocontrols"><br />public class Stack&lt;T&gt; {<br />  private Vector&lt;T&gt; items = new Vector&lt;T&gt;();<br />  public T pop() {<br />     // ...<br />  }<br />  public void push(T item) {<br />     // ...<br />  }<br />}<br /></pre><br />Extending <span class="Apple-style-span"  style="font-family:'courier new';"><span class="Apple-style-span"  style="font-size:small;">Vector</span></span> as in example 1 weakens the encapsulation of the class. Suddenly, methods to get and insert elements at specific positions are available to clients of the stack. We move from trying to create a well behaved LIFO stack to creating a socially irrisponsible monster: an <span class="Apple-style-span"  style="font-family:'courier new';"><span class="Apple-style-span"  style="font-size:small;">EvilStack</span></span>.<div><br />So I was surprised when looking at the Java implementation to see that <span class="Apple-style-span"  style="font-family:'courier new';"><span class="Apple-style-span"  style="font-size:small;">java.util.Stack</span></span> <span class="Apple-style-span" style="font-weight: bold;">extends </span>Vector! Bad robot.<br /></div><br /><img src="http://4.bp.blogspot.com/_-uMxV_fCbC4/SVInGoVdYJI/AAAAAAAAC08/I4RV1KzCyPo/s320/gibble_22x22.png" style="margin: 0pt 10px 10px 0pt; float: left; cursor: pointer; width: 22px; height: 22px;" alt="" id="BLOGGER_PHOTO_ID_5283328307719135378" border="0" /><div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/20485368-7226804024771639691?l=pequenoperro.blogspot.com' alt='' /></div>
