---
import { getCollection } from 'astro:content';
import type { CollectionEntry } from 'astro:content';
import Video from '../../layouts/Video.astro';

export async function getStaticPaths() {
  const videos = await getCollection('video');
  return videos.map((video) => ({
    params: { slug: video.slug },
    props: { video },
  }));
}

const { video } = Astro.props as { video: CollectionEntry<'video'> };
const { Content } = await video.render();
---

<Video {...video.data} youtubeId={video.data.youtubeId}>
  <Content />
</Video>

