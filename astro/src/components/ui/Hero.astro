---
const {kicker, title, subtitle, cta} = Astro.props;
---
<section class="relative py-16 bg-surface">
  <div class="container mx-auto px-4">
    <div class="max-w-3xl mx-auto text-center">
      {kicker && (
        <div class="text-sm uppercase tracking-widest text-accent font-semibold mb-4 hero-reveal" data-idx="1">
          {kicker}
        </div>
      )}

      {title && (
        <h1 class="logo-text text-6xl mb-4 hero-reveal" data-idx="2">
          {title}
        </h1>
      )}

      {subtitle && (
        <p class="text-xl text-gray-600 mb-8 hero-reveal" data-idx="3">
          {subtitle}
        </p>
      )}

      {cta && (
        <div class="hero-reveal" data-idx="4">
          <a
            href={cta.href}
            class="inline-block px-8 py-3 bg-accent text-white font-semibold rounded-lg hover:opacity-90 transition-opacity shadow-soft"
          >
            {cta.text}
          </a>
        </div>
      )}
    </div>
  </div>

  <script type="module">
    const elems = document.querySelectorAll('.hero-reveal');
    const revealElement = (el) => el.classList.add('revealed');

    const runReveal = () => {
      elems.forEach((el) => {
        const idx = el.dataset.idx ? Number(el.dataset.idx) : 0;
        // staggered reveals but keep overall duration sensible
        setTimeout(() => revealElement(el), 120 * (idx + 1));
      });
    };

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', runReveal);
    } else {
      runReveal();
    }
  </script>
</section>
