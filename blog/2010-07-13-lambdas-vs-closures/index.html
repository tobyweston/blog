<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Astro v5.18.0"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><!-- Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-1PVLDLDJQN"></script><script>(function(){const gaId = "G-1PVLDLDJQN";

      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', gaId);
    })();</script><!-- Canonical URL --><link rel="canonical" href="https://baddotrobot.com/blog/2010-07-13-lambdas-vs-closures/"><!-- RSS Feed --><link rel="alternate" type="application/rss+xml" title="bad.robot" href="/rss.xml"><!-- Primary Meta Tags --><title>Lambdas vs. Closures</title><meta name="title" content="Lambdas vs. Closures"><meta name="description" content="What's the difference between a lambda and a closure? Clear definitions and Java examples to understand these foundational functional programming concepts."><meta name="keywords" content="lambda, closure, functional programming, Java, higher-order functions, pure functions, first-class functions"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://baddotrobot.com/blog/2010-07-13-lambdas-vs-closures/"><meta property="og:title" content="Lambdas vs. Closures"><meta property="og:description" content="What's the difference between a lambda and a closure? Clear definitions and Java examples to understand these foundational functional programming concepts."><meta property="og:image" content="https://baddotrobot.com/images/heroes/java-code.jpg"><meta property="og:site_name" content="bad.robot"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://baddotrobot.com/blog/2010-07-13-lambdas-vs-closures/"><meta property="twitter:title" content="Lambdas vs. Closures"><meta property="twitter:description" content="What's the difference between a lambda and a closure? Clear definitions and Java examples to understand these foundational functional programming concepts."><meta property="twitter:image" content="https://baddotrobot.com/images/heroes/java-code.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Lambdas vs. Closures","description":"What's the difference between a lambda and a closure? Clear definitions and Java examples to understand these foundational functional programming concepts.","datePublished":"2010-07-13T00:00:00.000Z","url":"https://baddotrobot.com/blog/2010-07-13-lambdas-vs-closures/","author":{"@type":"Person","name":"Toby Weston","url":"https://baddotrobot.com"},"publisher":{"@type":"Person","name":"bad.robot"}}</script><link rel="stylesheet" href="/_astro/index.BiihJROh.css">
<style>.giscus-wrapper[data-astro-cid-2s6z27su]{margin-top:3rem;padding-top:0}.giscus-divider[data-astro-cid-2s6z27su]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.giscus-divider[data-astro-cid-2s6z27su]:before,.giscus-divider[data-astro-cid-2s6z27su]:after{content:"";flex:1;height:1px;background:var(--border)}.giscus-divider-label[data-astro-cid-2s6z27su]{text-transform:uppercase;letter-spacing:.2em;color:var(--accent);font-size:.75rem;font-weight:600;white-space:nowrap}.giscus[data-astro-cid-2s6z27su],.giscus-frame[data-astro-cid-2s6z27su]{width:100%}
</style>
<link rel="stylesheet" href="/_astro/_slug_.Bryw6KM9.css"><style>img[data-astro-cid-hgbazjtb]{max-width:100%;height:auto}img[data-astro-cid-hgbazjtb].right{float:right;margin:0 0 1.5rem 1.5rem;max-width:50%}img[data-astro-cid-hgbazjtb].left{float:left;margin:0 1.5rem 1.5rem 0;max-width:50%}img[data-astro-cid-hgbazjtb].center{display:block;margin:1.5rem auto}img[data-astro-cid-hgbazjtb].half{max-width:48%}@media (max-width: 768px){img[data-astro-cid-hgbazjtb].right,img[data-astro-cid-hgbazjtb].left{float:none;display:block;margin:1.5rem auto;max-width:100%}}
</style></head> <body class="bg-white text-gray-900"> <header class="header" data-astro-cid-3ef6ksr2> <div class="header-container" data-astro-cid-3ef6ksr2> <div class="logo-section" data-astro-cid-3ef6ksr2> <a href="/" class="logo-link" data-astro-cid-3ef6ksr2> <img src="/_astro/robot-logo_105x132.N1ZQY9mA_Zj02tT.webp" alt="bad.robot logo" data-astro-cid-3ef6ksr2="true" loading="lazy" decoding="async" fetchpriority="auto" width="84" height="106" class="logo-image"> <div class="logo-text-block" data-astro-cid-3ef6ksr2> <h1 class="logo-title logo-text header-logo-text" data-astro-cid-3ef6ksr2>bad.robot</h1> <h2 class="logo-subtitle logo-subtitle-text header-subtitle" data-astro-cid-3ef6ksr2>good robots do what they&#39;re told</h2> </div> </a> </div> <nav class="nav" data-astro-cid-3ef6ksr2> <a href="/blog" data-astro-cid-3ef6ksr2>Blog</a> <a href="/book" data-astro-cid-3ef6ksr2>Books</a> <a href="/video" data-astro-cid-3ef6ksr2>Videos</a> <a href="/archive" data-astro-cid-3ef6ksr2>Archive</a> </nav> <div id="header-animation-switcher" class="header-switcher" style="display: none;" data-astro-cid-3ef6ksr2> <div class="switcher-buttons" data-astro-cid-3ef6ksr2> <button class="switcher-btn active" data-option="1" title="Smooth Fade Only" data-astro-cid-3ef6ksr2> <span class="btn-icon" data-astro-cid-3ef6ksr2>‚ö´</span> </button> <button class="switcher-btn" data-option="2" title="Fade + Gentle Lift" data-astro-cid-3ef6ksr2> <span class="btn-icon" data-astro-cid-3ef6ksr2>‚¨ÜÔ∏è</span> </button> <button class="switcher-btn" data-option="3" title="Slide In Left" data-astro-cid-3ef6ksr2> <span class="btn-icon" data-astro-cid-3ef6ksr2>‚û°Ô∏è</span> </button> <button class="switcher-btn" data-option="4" title="Blur Fade" data-astro-cid-3ef6ksr2> <span class="btn-icon" data-astro-cid-3ef6ksr2>üîÆ</span> </button> <button class="switcher-btn" data-option="5" title="Subtle Scale" data-astro-cid-3ef6ksr2> <span class="btn-icon" data-astro-cid-3ef6ksr2>üìà</span> </button> </div> </div> </div> </header>  <main id="site-main" class="mx-auto w-full max-w-6xl px-4 pt-4">   <div class="py-12"> <article class=""> <!--{heroImage && (--> <!--  <div class="hero-image mb-8">--> <!--    <img src={heroImage} alt={title} class="w-full h-auto rounded-lg shadow-lg" />--> <!--  </div>--> <!--)}--> <div class="article-title-section mb-8"> <p class="detail-kicker">Blog</p> <h1 class="article-title-section h1">Lambdas vs. Closures</h1>  <p class="article-description">What&#39;s the difference between a lambda and a closure? Clear definitions and Java examples to understand these foundational functional programming concepts.</p> </div> <div class="article-meta"> <div class="article-date"> <strong>Published:</strong> <time datetime="2010-07-13T00:00:00.000Z"> Jul 13, 2010 </time> </div>  </div> <div class="prose">  <img src="/_astro/lambda.BBedvIjg_Z1atG21.webp" title="The Lambda greek character" alt="The Lambda greek character" loading="lazy" data-astro-cid-hgbazjtb="true" decoding="async" fetchpriority="auto" width="200" height="200" class="right">
<p>When writing Java in a functional style, things tend to get very verbose. We often create a bunch of anonymous implementation fragments and pass them around akin to a <em>function</em> in functional languages. These fragments often get called closures or lambdas, but what‚Äôs the difference between the two terms?</p>
<p>Lets take the <code>WaitFor</code> class from <a href="http://tempusfugitlibrary.org/">tempus-fugit</a> as an example where we pass an anonymous instance as a parameter to the <code>waitOrTimeout</code> method. We define a function here that will be called at some later point by <code>waitOrTimeout</code>. We can think of this as <em>lazy invocation</em>. Java isn‚Äôt a functional language but we‚Äôve simulated at least one characteristic of a functional language using <code>WaitFor</code> and an anonymous function. We‚Äôve created a <em>higher order function</em> but not necessarily a <em>pure function</em> (<a href="/blog/2012-04-03-scala-as-a-functional-oo-hybrid/">1</a>).</p>
<p>For example,</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="java"><code><span class="line"><span style="color:#E1E4E8">...</span></span>
<span class="line"><span style="color:#E1E4E8">server.</span><span style="color:#B392F0">start</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">WaitFor.</span><span style="color:#B392F0">waitOrTimeout</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">new</span><span style="color:#B392F0"> Condition</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">   @</span><span style="color:#F97583">Override</span></span>
<span class="line"><span style="color:#F97583">   public</span><span style="color:#F97583"> boolean</span><span style="color:#B392F0"> isSatisfied</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#E1E4E8"> server.</span><span style="color:#B392F0">isRunning</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}, </span><span style="color:#B392F0">timeout</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">seconds</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">)));</span></span></code></pre>
<p>The anonymous class implementing <code>Condition</code> is evaluated by the method <code>waitOrTimeout</code> (which will call the <code>isSatisfied</code>) method.</p>
<p>The recent shift to this functional style has lead to eager anticipation of JDK7 and the promise of closures. More accurately however, it‚Äôs the inclusion of <em>lambdas</em> that we‚Äôre waiting for, not <em>closures</em>. Closures have in fact been available in Java since 1.1, so what‚Äôs the difference?</p>
<h2 id="lambs-to-the-slaughter">Lambs to the Slaughter</h2>
<p>So, we want to be able to define anonymous functions on the fly, the result of the function is purely dependent on it‚Äôs arguments and this is called a lambda. Those functions that depend on external values (not just it‚Äôs arguments) are when closures come into it. The act of binding those external values to the anonymous function is referred to as <em>closure</em>. After closure, when all variables have been captured and bound to the function, the term is closed.</p>
<p>For example, the code snippet above will return a new <code>Condition</code> instance on each invocation. Because it will bind the variable server to the anonymous function, it will return a closure. To put it another way, we‚Äôll extract the anonymous part to a method to explicitly create a new instance, such</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="java"><code><span class="line"><span style="color:#F97583">private</span><span style="color:#F97583"> static</span><span style="color:#E1E4E8"> Condition </span><span style="color:#B392F0">isRunning</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">final</span><span style="color:#E1E4E8"> Server server) {</span></span>
<span class="line"><span style="color:#F97583">   return</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Condition</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">      @</span><span style="color:#F97583">Override</span></span>
<span class="line"><span style="color:#F97583">      public</span><span style="color:#F97583"> boolean</span><span style="color:#B392F0"> isSatisfied</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">         return</span><span style="color:#E1E4E8"> server.</span><span style="color:#B392F0">isRunning</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">   };</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>This should make it more obvious that the variable outside the scope of the anonymous <code>Condition</code> is required (the <code>server</code> variable), each call to the <code>isRunning</code> method will return a closure over the argument, the instance of which captures the value of server. Java implements the closure by passing a reference to the outer scoped (lets say <code>Foo.class</code>) to the anonymous class (<code>Foo$1.class</code>). The <code>access$000</code> call accesses the appropriate private field in the outer class directly in the bytecode</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="java"><code><span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Foo$1</span><span style="color:#F97583"> implements</span><span style="color:#B392F0"> Condition</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    final</span><span style="color:#E1E4E8"> Foo this$0;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    Foo$</span><span style="color:#B392F0">1</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#79B8FF">        this</span><span style="color:#E1E4E8">$0 </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> Foo.this;</span></span>
<span class="line"><span style="color:#79B8FF">        super</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    public</span><span style="color:#F97583"> boolean</span><span style="color:#B392F0"> isSatisfied</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> Foo.</span><span style="color:#B392F0">access$000</span><span style="color:#E1E4E8">(Foo.this).</span><span style="color:#B392F0">isRunning</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>So, if, we have update the example again, this time removing the out of scope variable, we‚Äôre left with something like this;</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="java"><code><span class="line"><span style="color:#F97583">private</span><span style="color:#F97583"> static</span><span style="color:#E1E4E8"> Condition </span><span style="color:#B392F0">isRunning</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">   return</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Condition</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">      @</span><span style="color:#F97583">Override</span></span>
<span class="line"><span style="color:#F97583">      public</span><span style="color:#F97583"> boolean</span><span style="color:#B392F0"> isSatisfied</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">         return</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// optimistic!</span></span>
<span class="line"><span style="color:#E1E4E8">      };</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Then no out of scope variables are required, the term doesn‚Äôt need to be closed. The anonymous function that is left is effectively a lambda.</p>
<h2 id="summary">Summary</h2>
<p>A lambda will generally be more efficient that a closure as it <a href="http://mail.openjdk.java.net/pipermail/lambda-dev/2012-November/006867.html">only needs to evaluated once</a>. As a closure closes over something not in it‚Äôs environment, it has to be evaluated every time it‚Äôs called.</p>
<p>What JDK7 will (finger‚Äôs crossed) bring is more explicit, concise way of expressing the same ideas. It will support lambdas as a language feature although I can‚Äôt quite figure out what the example would look like in those terms. See the <a href="http://cr.openjdk.java.net/%7Emr/lambda/straw-man/">straw man proposal</a> and see if you can figure it out!</p>  </div> <div class="giscus-wrapper" data-astro-cid-2s6z27su><div class="giscus-divider" data-astro-cid-2s6z27su><span class="giscus-divider-label" data-astro-cid-2s6z27su>Discussion</span></div><div class="giscus" id="giscus-container" data-astro-cid-2s6z27su></div></div><script type="module">const repo = "tobyweston/blog";
const repoId = "MDEwOlJlcG9zaXRvcnkzMzUyNTYw";
const category = "General";
const categoryId = "DIC_kwDOADMn8M4C3bWR";

    function loadGiscus() {
      const container = document.getElementById('giscus-container');
      if (!container) return;

      const script = document.createElement('script');
      script.src            = 'https://giscus.app/client.js';
      script.setAttribute('data-repo',              repo);
      script.setAttribute('data-repo-id',           repoId);
      script.setAttribute('data-category',          category);
      script.setAttribute('data-category-id',       categoryId);
      script.setAttribute('data-mapping',           'pathname');
      script.setAttribute('data-strict',            '0');
      script.setAttribute('data-reactions-enabled', '1');
      script.setAttribute('data-emit-metadata',     '0');
      script.setAttribute('data-input-position',    'top');
      script.setAttribute('data-theme',             'light');
      script.setAttribute('data-lang',              'en');
      script.setAttribute('data-loading',           'lazy');
      script.crossOrigin    = 'anonymous';
      script.async          = true;
      container.appendChild(script);
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', loadGiscus);
    } else {
      loadGiscus();
    }
  </script> </article> </div>  </main> <footer class="py-8 border-t border-gray-200 mt-12"> <div class="container mx-auto px-4 text-center"> <p class="text-xs text-gray-600">&copy; 2008-2026 Toby Weston. All rights reserved. (see some old <a class="text-gray-600 hover:text-sky-600" href="/code/">code</a>)</p> </div> </footer> </body></html>