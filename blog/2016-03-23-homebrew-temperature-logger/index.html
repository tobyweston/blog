<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Astro v5.17.3"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><!-- Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-1PVLDLDJQN"></script><script>(function(){const gaId = "G-1PVLDLDJQN";

      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', gaId);
    })();</script><!-- Canonical URL --><link rel="canonical" href="https://baddotrobot.com/blog/2016-03-23-homebrew-temperature-logger/"><!-- RSS Feed --><link rel="alternate" type="application/rss+xml" title="bad.robot" href="/rss.xml"><!-- Primary Meta Tags --><title>Home Brew Temperature Logger</title><meta name="title" content="Home Brew Temperature Logger"><meta name="description" content="Build a home brew temperature logger for around $10 using a Raspberry Pi Zero and DS18B20 temperature sensor. Great starter IoT project with Scala server."><meta name="keywords" content="Raspberry Pi, temperature logger, DS18B20, Pi Zero, IoT, home automation, Scala, data logging"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://baddotrobot.com/blog/2016-03-23-homebrew-temperature-logger/"><meta property="og:title" content="Home Brew Temperature Logger"><meta property="og:description" content="Build a home brew temperature logger for around $10 using a Raspberry Pi Zero and DS18B20 temperature sensor. Great starter IoT project with Scala server."><meta property="og:image" content="https://baddotrobot.com/images/heroes/java-code.jpg"><meta property="og:site_name" content="bad.robot"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://baddotrobot.com/blog/2016-03-23-homebrew-temperature-logger/"><meta property="twitter:title" content="Home Brew Temperature Logger"><meta property="twitter:description" content="Build a home brew temperature logger for around $10 using a Raspberry Pi Zero and DS18B20 temperature sensor. Great starter IoT project with Scala server."><meta property="twitter:image" content="https://baddotrobot.com/images/heroes/java-code.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Home Brew Temperature Logger","description":"Build a home brew temperature logger for around $10 using a Raspberry Pi Zero and DS18B20 temperature sensor. Great starter IoT project with Scala server.","datePublished":"2016-03-23T00:00:00.000Z","image":"https://baddotrobot.com/images/temperature-machine.png","url":"https://baddotrobot.com/blog/2016-03-23-homebrew-temperature-logger/","author":{"@type":"Person","name":"Toby Weston","url":"https://baddotrobot.com"},"publisher":{"@type":"Person","name":"bad.robot"}}</script><link rel="stylesheet" href="/_astro/index.CzF6U4o9.css">
<link rel="stylesheet" href="/_astro/_slug_.DbZHOt6G.css"><style>.cte-button[data-astro-cid-djr4ip6f]{border:0;padding:0;background:transparent;cursor:zoom-in}.cte-dialog[data-astro-cid-djr4ip6f]{border:0;padding:0;background:#000000d9;width:min(96vw,1200px);max-height:96vh}.cte-dialog[data-astro-cid-djr4ip6f]::backdrop{background:#0009}.cte-frame[data-astro-cid-djr4ip6f]{padding:24px}.cte-image[data-astro-cid-djr4ip6f]{display:block;width:100%;height:auto;max-height:88vh;-o-object-fit:contain;object-fit:contain;border-radius:8px}.cte-close[data-astro-cid-djr4ip6f]{position:absolute;top:12px;right:16px;width:40px;height:40px;border-radius:999px;border:0;background:#0009;color:#fff;font-size:1.75rem;cursor:pointer}
</style></head> <body class="bg-white text-gray-900"> <header class="header" data-astro-cid-3ef6ksr2> <div class="header-container" data-astro-cid-3ef6ksr2> <div class="logo-section" data-astro-cid-3ef6ksr2> <a href="/" class="logo-link" data-astro-cid-3ef6ksr2> <img src="/_astro/robot-logo_105x132.N1ZQY9mA_Zj02tT.webp" alt="bad.robot logo" data-astro-cid-3ef6ksr2="true" loading="lazy" decoding="async" fetchpriority="auto" width="84" height="106" class="logo-image"> <div class="logo-text-block" data-astro-cid-3ef6ksr2> <h1 class="logo-title logo-text header-logo-text" data-astro-cid-3ef6ksr2>bad.robot</h1> <h2 class="logo-subtitle logo-subtitle-text header-subtitle" data-astro-cid-3ef6ksr2>good robots do what they&#39;re told</h2> </div> </a> </div> <nav class="nav" data-astro-cid-3ef6ksr2> <a href="/blog" data-astro-cid-3ef6ksr2>Blog</a> <a href="/book" data-astro-cid-3ef6ksr2>Books</a> <a href="/video" data-astro-cid-3ef6ksr2>Videos</a> <a href="/archive" data-astro-cid-3ef6ksr2>Archive</a> </nav> </div> </header>  <main id="site-main" class="mx-auto w-full max-w-6xl px-4 pt-4">   <div class="py-12"> <article class=""> <!--{heroImage && (--> <!--  <div class="hero-image mb-8">--> <!--    <img src={heroImage} alt={title} class="w-full h-auto rounded-lg shadow-lg" />--> <!--  </div>--> <!--)}--> <div class="article-title-section mb-8"> <p class="detail-kicker">Blog</p> <h1 class="article-title-section h1">Home Brew Temperature Logger</h1>  <p class="article-description">Build a home brew temperature logger for around $10 using a Raspberry Pi Zero and DS18B20 temperature sensor. Great starter IoT project with Scala server.</p> </div> <div class="article-meta"> <div class="article-date"> <strong>Published:</strong> <time datetime="2016-03-23T00:00:00.000Z"> Mar 23, 2016 </time> </div>  </div> <div class="prose">  <p>Using a Raspberry Pi Zero, some cheap components and some custom software, you can build a data logger to track ambient temperature in your home for around £10. Track days, <a href="../images/temperature-30-days.png">weeks</a> and months worth of temperature data and display some pretty graphs via the web.</p>
<button id="cte-f8wyqom-trigger" type="button" class="cte-button" aria-haspopup="dialog" aria-controls="cte-f8wyqom-dialog" data-cte-trigger data-cte-id="cte-f8wyqom" data-astro-cid-djr4ip6f> <img src="/_astro/temperature-machine.BHDHjn5u_1lCWhG.webp" alt="The temperature-machine UI" data-astro-cid-djr4ip6f="true" loading="lazy" decoding="async" fetchpriority="auto" width="2108" height="1740"> </button> <dialog id="cte-f8wyqom-dialog" class="cte-dialog" aria-label="The temperature-machine UI" data-cte-dialog="cte-f8wyqom" data-astro-cid-djr4ip6f> <button type="button" class="cte-close" aria-label="Close image" data-astro-cid-djr4ip6f>&times;</button> <div class="cte-frame" data-astro-cid-djr4ip6f> <img src="/_astro/temperature-machine.BHDHjn5u_1lCWhG.webp" alt="The temperature-machine UI" data-astro-cid-djr4ip6f="true" loading="lazy" decoding="async" fetchpriority="auto" width="2108" height="1740" class="cte-image"> </div> </dialog> <script type="module">
  if (!window.__cteBound) {
    window.__cteBound = true;

    document.addEventListener('click', (event) => {
      const trigger = event.target.closest('[data-cte-trigger]');
      if (trigger) {
        const cteId = trigger.getAttribute('data-cte-id');
        const dialog = cteId
          ? document.querySelector(`dialog[data-cte-dialog="${cteId}"]`)
          : null;
        if (dialog) dialog.showModal();
        return;
      }

      const closeButton = event.target.closest('.cte-close');
      if (closeButton) {
        const dialog = closeButton.closest('dialog');
        if (dialog) dialog.close();
        return;
      }

      const dialog = event.target.closest('dialog.cte-dialog');
      if (dialog && event.target === dialog) {
        dialog.close();
      }
    });

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        const openDialog = document.querySelector('dialog.cte-dialog[open]');
        if (openDialog) openDialog.close();
      }
    });
  }
</script> 
<h2 id="order-list">Order list</h2>













































<table><thead><tr><th>Item</th><th>Price</th></tr></thead><tbody><tr><td><a href="https://shop.pimoroni.com/products/raspberry-pi-zero">Raspberry Pi Zero</a></td><td>£ 4</td></tr><tr><td><a href="http://amzn.to/1T6zIc9">SanDisk 8GB microSDHC memory card</a></td><td>£ 4</td></tr><tr><td><a href="http://amzn.to/1pIKZ7m">2.54mm Header strip</a></td><td>£ 0.89</td></tr><tr><td><a href="http://amzn.to/1RhmOHc">DS18B20 1-Wire temperature sensor</a></td><td>£ 1.45</td></tr><tr><td>1 x 4.7k Ω resistor</td><td>£ 0.10</td></tr><tr><td><a href="http://amzn.to/1Rlrbj9">Some jumper wires</a> or otherwise recycled wires with connectors</td><td>£ 0.97</td></tr><tr><td>Data logging software</td><td><span style="color:green;"><a href="https://github.com/tobyweston/temperature-machine">FREE</a></span></td></tr><tr><td></td><td> </td></tr><tr><td><strong>Total</strong></td><td><strong>£ 11.41</strong></td></tr></tbody></table>
<p><strong>Optional extras</strong> You might also want to consider a <a href="http://amzn.to/1RhmTKQ">USB Wifi adapter</a> (about £ 6), a case (I like the one from <a href="https://socomponents.co.uk/shop/black-laser-cut-acrylic-raspberry-pi-zero-case-v2/">Switched On Components</a> at £ 3.80) and a USB to TTL serial connection for headless setup. Something with a PL2302TA chip in it like <a href="http://amzn.to/1ZtRWoA">this module</a> or the <a href="https://www.adafruit.com/product/954">Adafruit console cable</a>.</p>
<h2 id="setup-the-hardware">Setup the Hardware</h2>
<p>Connecting the temperature sensor to the Pi is straight forward. There a loads of <a href="https://www.google.co.uk/search?btnG=1&pws=0&q=pi+ds18b20+tutorial">tutorials on the web</a> but you’re looking to connect the following physical pins on the Pi to the following sensor connectors.</p>

























<table><thead><tr><th>Physical Pi Pin</th><th>Description</th><th>DS18b20 Connector</th></tr></thead><tbody><tr><td>1</td><td>3.3v Power</td><td>Power (<span style="color:red;">red</span>)</td></tr><tr><td>7</td><td>GPIO 4</td><td>Data (<span style="color:orange;">yellow</span>)</td></tr><tr><td>9</td><td>Ground</td><td>Ground (<span style="color:black;">black</span>)</td></tr></tbody></table>
<p>The other thing you’ll need to do is connect the 4.7k Ω resistor between the power and data lines. This acts as a <a href="https://learn.sparkfun.com/tutorials/pull-up-resistors">pull-up resistor</a> to ensure that the Pi knows that the data line starts in a “high” state. Without it, it can’t tell if it should start as high or low; it would be left <em>floating</em>.</p>
<h2 id="setup-the-pi">Setup the Pi</h2>
<p>Make sure you have the following line in your <code>/boot/config.txt</code>. It will load the GPIO 1-wire driver and any attached temperature sensor should be automatically detected.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#E1E4E8"> dtoverlay</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">w1-gpio</span></span></code></pre>
<p>On the sensor itself, temperature measurements are stored in an area of memory called the “scratchpad”. If everything is connected ok, the contents of the scratchpad will be written to a file under <code>/sys/bus/w1/devices/28-xxx/w1_slave</code> (where <code>xxx</code> will be a HEX number unique to your sensor). Here’s an example from my <code>w1_slave</code> file.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0"> 4b</span><span style="color:#79B8FF"> 01</span><span style="color:#9ECBFF"> 4b</span><span style="color:#79B8FF"> 46</span><span style="color:#9ECBFF"> 7f</span><span style="color:#9ECBFF"> ff</span><span style="color:#79B8FF"> 05</span><span style="color:#79B8FF"> 10</span><span style="color:#9ECBFF"> d8</span><span style="color:#9ECBFF"> :</span><span style="color:#9ECBFF"> crc=d8</span><span style="color:#9ECBFF"> YES</span></span>
<span class="line"><span style="color:#B392F0"> 4b</span><span style="color:#79B8FF"> 01</span><span style="color:#9ECBFF"> 4b</span><span style="color:#79B8FF"> 46</span><span style="color:#9ECBFF"> 7f</span><span style="color:#9ECBFF"> ff</span><span style="color:#79B8FF"> 05</span><span style="color:#79B8FF"> 10</span><span style="color:#9ECBFF"> d8</span><span style="color:#9ECBFF"> t=</span><span style="color:#79B8FF">20687</span></span></code></pre>
<p>The temperature is shown as the <code>t</code> value; 20.687 °C in this case. The scratchpad allows you to program the sensor as well as read temperature data from it. See the <a href="https://www.adafruit.com/datasheets/DS18B20.pdf">data sheet</a> or <a href="http://temperature-machine.com/docs/ds18b20_sensor.html">the project’s documentation</a> for more details (including how to change the precision of the sensor).</p>
<p>Once you can see the <code>w1_slave</code> file, you’re ready to install the data logging software.</p>
<h2 id="setup-the-data-logging-software">Setup the Data Logging Software</h2>
<p>There are lots of options to record the temperature data but for something a bit different, the <a href="https://github.com/tobyweston/temperature-machine">temperature-machine</a> software logs temperatures from multiple sensors on multiple Pi’s. It sends the data to a nominated “server” and the server stores it all in a round robin database and serves up the charts via a web page.</p>
<ol>
<li>
<p>Setup <code>apt-get</code> to recognise the temperature-machine repository and import the public key (increasing security by ensuring only official packages are installed from it).</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> bash</span><span style="color:#79B8FF"> -c</span><span style="color:#9ECBFF"> &#39;echo &quot;deb http://robotooling.com/debian stable temperature-machine&quot; &gt;&gt; /etc/apt/sources.list&#39;</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt-key</span><span style="color:#9ECBFF"> adv</span><span style="color:#79B8FF"> --keyserver</span><span style="color:#9ECBFF"> pool.sks-keyservers.net</span><span style="color:#79B8FF"> --recv-keys</span><span style="color:#9ECBFF"> 00258F48226612AE</span></span></code></pre>
</li>
<li>
<p>Install.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt-get</span><span style="color:#9ECBFF"> update</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt-get</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> temperature-machine</span></span></code></pre>
</li>
<li>
<p>Decide if you will be running the temperature-machine as a <strong>server</strong> or <strong>client</strong>.</p>
<p>If you have a single machine, you want a <strong>server</strong>. If you already have a server running and you’re adding another machine, set it up as a <strong>client</strong>.</p>
<p>Run the following command (if you see an error about <code>port already in use</code>, try again until it works).</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">temperature-machine</span><span style="color:#79B8FF"> --init</span></span></code></pre>
<p>It will ask you to choose between the server and client and create an appropriate configuration file in <code>~/.temperature/temperature-machine.cfg</code>.</p>
</li>
<li>
<p>If you created a server configuration file above, update the defaulted hosts in <code>~/.temperature/temperature-machine.cfg</code>.</p>
<p>The default server configuration will list some default values for <code>hosts</code>, such as:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">hosts</span><span style="color:#9ECBFF"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#9ECBFF">&quot;garage&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;lounge&quot;,</span><span style="color:#9ECBFF"> &quot;study&quot;]</span></span></code></pre>
<p>These are the machines you will be using in your final setup. <span class="bg-warning">Ensure these match the host names of each machine you plan to add</span>. The values are used to initialise the database on the server. If you need to change this later, you will have to delete the database and losing any historic data, so add in some spares.</p>
<blockquote>
<p>The software starts automatically, it runs as a service but after setting up the configuration, you must either restart the service manually (run <code>sudo systemctl restart temperature-machine</code>) or wait about a minute and it will restart automatically.</p>
</blockquote>
</li>
<li>
<p>Go to something like <a href>http://10.0.1.55:11900</a> from your favorite browser. Find your IP address on the Pi with <code>hostname -I</code>.</p>
</li>
</ol>
<p>The logs can be found in the app or in the <code>~/.temperature/temperature-machine.log</code>.</p>
<h2 id="add-multiple-machines">Add Multiple Machines</h2>
<p>You can add as many client machines as you like and each machine can have up to five sensors attached. For example, add them to rooms and set the hostnames to match the room (just make sure the hostnames match what you put in your server <code>temperature-machine.cfg</code> file).</p>
<p>Follow the steps above but select <code>client</code> when you run <code>temperature-machine --init</code>.</p>
<p>The server broadcasts it’s IP address, so any clients should automatically detect where the server is and start sending data to it.</p>
<h2 id="add-multiple-sensors">Add Multiple Sensors</h2>
<p>The 1-wire protocol allows you to chain multiple sensors, so each Pi can have any number of sensors attached. The software automatically supports up to five sensors. Connect them to your Pi and restart and they’ll be automatically detected and included in the charts.</p>
<p>I found soldering a bunch of sensor wires together along with the resistor a bit tricky so I put together a simple PCB to allow me to chain them without soldering.</p>
<button id="cte-c163tjk-trigger" type="button" class="cte-button" aria-haspopup="dialog" aria-controls="cte-c163tjk-dialog" data-cte-trigger data-cte-id="cte-c163tjk" data-astro-cid-djr4ip6f> <img src="/_astro/temperature-machine-add-on-1.B6p8CmcJ_5mAwS.webp" alt="Add on board for temperature-machine" data-astro-cid-djr4ip6f="true" loading="lazy" decoding="async" fetchpriority="auto" width="266" height="200"> </button> <dialog id="cte-c163tjk-dialog" class="cte-dialog" aria-label="Add on board for temperature-machine" data-cte-dialog="cte-c163tjk" data-astro-cid-djr4ip6f> <button type="button" class="cte-close" aria-label="Close image" data-astro-cid-djr4ip6f>&times;</button> <div class="cte-frame" data-astro-cid-djr4ip6f> <img src="/_astro/temperature-machine-add-on-1.B6p8CmcJ_Z1WtFz8.webp" alt="Add on board for temperature-machine" data-astro-cid-djr4ip6f="true" loading="lazy" decoding="async" fetchpriority="auto" width="1066" height="800" class="cte-image"> </div> </dialog> <script type="module">
  if (!window.__cteBound) {
    window.__cteBound = true;

    document.addEventListener('click', (event) => {
      const trigger = event.target.closest('[data-cte-trigger]');
      if (trigger) {
        const cteId = trigger.getAttribute('data-cte-id');
        const dialog = cteId
          ? document.querySelector(`dialog[data-cte-dialog="${cteId}"]`)
          : null;
        if (dialog) dialog.showModal();
        return;
      }

      const closeButton = event.target.closest('.cte-close');
      if (closeButton) {
        const dialog = closeButton.closest('dialog');
        if (dialog) dialog.close();
        return;
      }

      const dialog = event.target.closest('dialog.cte-dialog');
      if (dialog && event.target === dialog) {
        dialog.close();
      }
    });

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        const openDialog = document.querySelector('dialog.cte-dialog[open]');
        if (openDialog) openDialog.close();
      }
    });
  }
</script> 
<button id="cte-2504suh-trigger" type="button" class="cte-button" aria-haspopup="dialog" aria-controls="cte-2504suh-dialog" data-cte-trigger data-cte-id="cte-2504suh" data-astro-cid-djr4ip6f> <img src="/_astro/temperature-machine-add-on-2.B67-r58e_Zh6bfy.webp" alt="Add on board for temperature-machine" data-astro-cid-djr4ip6f="true" loading="lazy" decoding="async" fetchpriority="auto" width="266" height="200"> </button> <dialog id="cte-2504suh-dialog" class="cte-dialog" aria-label="Add on board for temperature-machine" data-cte-dialog="cte-2504suh" data-astro-cid-djr4ip6f> <button type="button" class="cte-close" aria-label="Close image" data-astro-cid-djr4ip6f>&times;</button> <div class="cte-frame" data-astro-cid-djr4ip6f> <img src="/_astro/temperature-machine-add-on-2.B67-r58e_1RtsfW.webp" alt="Add on board for temperature-machine" data-astro-cid-djr4ip6f="true" loading="lazy" decoding="async" fetchpriority="auto" width="1066" height="800" class="cte-image"> </div> </dialog> <script type="module">
  if (!window.__cteBound) {
    window.__cteBound = true;

    document.addEventListener('click', (event) => {
      const trigger = event.target.closest('[data-cte-trigger]');
      if (trigger) {
        const cteId = trigger.getAttribute('data-cte-id');
        const dialog = cteId
          ? document.querySelector(`dialog[data-cte-dialog="${cteId}"]`)
          : null;
        if (dialog) dialog.showModal();
        return;
      }

      const closeButton = event.target.closest('.cte-close');
      if (closeButton) {
        const dialog = closeButton.closest('dialog');
        if (dialog) dialog.close();
        return;
      }

      const dialog = event.target.closest('dialog.cte-dialog');
      if (dialog && event.target === dialog) {
        dialog.close();
      }
    });

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        const openDialog = document.querySelector('dialog.cte-dialog[open]');
        if (openDialog) openDialog.close();
      }
    });
  }
</script> 
<button id="cte-i6zpzqa-trigger" type="button" class="cte-button" aria-haspopup="dialog" aria-controls="cte-i6zpzqa-dialog" data-cte-trigger data-cte-id="cte-i6zpzqa" data-astro-cid-djr4ip6f> <img src="/_astro/temperature-machine-add-on-3.qoLhqVKX_1cCNlF.webp" alt="Add on board for temperature-machine" data-astro-cid-djr4ip6f="true" loading="lazy" decoding="async" fetchpriority="auto" width="266" height="200"> </button> <dialog id="cte-i6zpzqa-dialog" class="cte-dialog" aria-label="Add on board for temperature-machine" data-cte-dialog="cte-i6zpzqa" data-astro-cid-djr4ip6f> <button type="button" class="cte-close" aria-label="Close image" data-astro-cid-djr4ip6f>&times;</button> <div class="cte-frame" data-astro-cid-djr4ip6f> <img src="/_astro/temperature-machine-add-on-3.qoLhqVKX_2dxWNE.webp" alt="Add on board for temperature-machine" data-astro-cid-djr4ip6f="true" loading="lazy" decoding="async" fetchpriority="auto" width="1066" height="800" class="cte-image"> </div> </dialog> <script type="module">
  if (!window.__cteBound) {
    window.__cteBound = true;

    document.addEventListener('click', (event) => {
      const trigger = event.target.closest('[data-cte-trigger]');
      if (trigger) {
        const cteId = trigger.getAttribute('data-cte-id');
        const dialog = cteId
          ? document.querySelector(`dialog[data-cte-dialog="${cteId}"]`)
          : null;
        if (dialog) dialog.showModal();
        return;
      }

      const closeButton = event.target.closest('.cte-close');
      if (closeButton) {
        const dialog = closeButton.closest('dialog');
        if (dialog) dialog.close();
        return;
      }

      const dialog = event.target.closest('dialog.cte-dialog');
      if (dialog && event.target === dialog) {
        dialog.close();
      }
    });

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        const openDialog = document.querySelector('dialog.cte-dialog[open]');
        if (openDialog) openDialog.close();
      }
    });
  }
</script> 
<button id="cte-bcke6qu-trigger" type="button" class="cte-button" aria-haspopup="dialog" aria-controls="cte-bcke6qu-dialog" data-cte-trigger data-cte-id="cte-bcke6qu" data-astro-cid-djr4ip6f> <img src="/_astro/temperature-machine-add-on-7.D93toVQk_Z2bD7II.webp" alt="Add on board for temperature-machine" data-astro-cid-djr4ip6f="true" loading="lazy" decoding="async" fetchpriority="auto" width="266" height="200"> </button> <dialog id="cte-bcke6qu-dialog" class="cte-dialog" aria-label="Add on board for temperature-machine" data-cte-dialog="cte-bcke6qu" data-astro-cid-djr4ip6f> <button type="button" class="cte-close" aria-label="Close image" data-astro-cid-djr4ip6f>&times;</button> <div class="cte-frame" data-astro-cid-djr4ip6f> <img src="/_astro/temperature-machine-add-on-7.D93toVQk_Z1p49xQ.webp" alt="Add on board for temperature-machine" data-astro-cid-djr4ip6f="true" loading="lazy" decoding="async" fetchpriority="auto" width="1066" height="800" class="cte-image"> </div> </dialog> <script type="module">
  if (!window.__cteBound) {
    window.__cteBound = true;

    document.addEventListener('click', (event) => {
      const trigger = event.target.closest('[data-cte-trigger]');
      if (trigger) {
        const cteId = trigger.getAttribute('data-cte-id');
        const dialog = cteId
          ? document.querySelector(`dialog[data-cte-dialog="${cteId}"]`)
          : null;
        if (dialog) dialog.showModal();
        return;
      }

      const closeButton = event.target.closest('.cte-close');
      if (closeButton) {
        const dialog = closeButton.closest('dialog');
        if (dialog) dialog.close();
        return;
      }

      const dialog = event.target.closest('dialog.cte-dialog');
      if (dialog && event.target === dialog) {
        dialog.close();
      }
    });

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        const openDialog = document.querySelector('dialog.cte-dialog[open]');
        if (openDialog) openDialog.close();
      }
    });
  }
</script> 
<h2 id="start-logging-automatically">Start Logging Automatically</h2>
<p>The software will automatically start as a service, it will even restart after a crash or reboot.</p>
<p>To see if it’s running, run the following.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0"> systemctl</span><span style="color:#9ECBFF"> status</span><span style="color:#9ECBFF"> temperature-machine</span></span></code></pre>
<p>Look for <code>active (running)</code> in the output.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0"> ●</span><span style="color:#9ECBFF"> temperature-machine.service</span><span style="color:#9ECBFF"> -</span><span style="color:#9ECBFF"> temperature-machine</span></span>
<span class="line"><span style="color:#B392F0">    Loaded:</span><span style="color:#9ECBFF"> loaded</span><span style="color:#E1E4E8"> (/lib/systemd/system/temperature-machine.service; </span><span style="color:#B392F0">enabled</span><span style="color:#E1E4E8">; </span><span style="color:#B392F0">vendor</span><span style="color:#9ECBFF"> preset:</span><span style="color:#9ECBFF"> enabled</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#B392F0">    Active:</span><span style="color:#9ECBFF"> active</span><span style="color:#E1E4E8"> (running) since Wed 2018-05-09 19:54:32 UTC; </span><span style="color:#B392F0">2</span><span style="color:#9ECBFF"> days</span><span style="color:#9ECBFF"> ago</span></span>
<span class="line"><span style="color:#B392F0">  Main</span><span style="color:#9ECBFF"> PID:</span><span style="color:#79B8FF"> 22980</span><span style="color:#E1E4E8"> (java)</span></span>
<span class="line"><span style="color:#B392F0">    CGroup:</span><span style="color:#9ECBFF"> /system.slice/temperature-machine.service</span></span>
<span class="line"><span style="color:#B392F0">            └─22980</span><span style="color:#9ECBFF"> java</span><span style="color:#79B8FF"> -Djava.rmi.server.hostname=10.0.1.26</span><span style="color:#79B8FF"> -Xms256m</span><span style="color:#79B8FF"> -Xmx512m</span><span style="color:#9ECBFF"> ...</span></span></code></pre>
<p>To stop the service, run the following.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> systemctl</span><span style="color:#9ECBFF"> stop</span><span style="color:#9ECBFF"> temperature-machine</span></span></code></pre>
<p>To restart, run the following (or reboot).</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> systemctl</span><span style="color:#9ECBFF"> restart</span><span style="color:#9ECBFF"> temperature-machine</span></span></code></pre>
<h2 id="do-not-disturb">Do Not Disturb</h2>
<p>If you’re monitoring temperatures in a bedroom, you might not want to be disturbed by the LEDs. To switch the Pi Zero LED off, see the <a href="https://www.raspberrypi.org/forums/viewtopic.php?f=29&t=127336">Raspberry Pi Forum</a> and <a href="http://raspberrypi.stackexchange.com/questions/40559/disable-leds-pi-zero?noredirect=1#comment57599_40559">Stack Overflow</a> and to switch an Edimax EW-7811 LED off, see my <a href="/blog/2016-01-06-disable-led-for-edimax/">previous post</a>.</p>
<h2 id="find-out-more">Find out More</h2>
<p>Head over to the project’s website at <a href="http://temperature-machine.com/docs">temperature-machine.com</a> for the full docs.</p>  </div> </article> </div>  </main> <footer class="py-8 border-t border-gray-200 mt-12"> <div class="container mx-auto px-4 text-center"> <p class="text-xs text-gray-600">&copy; 2008-2026 Toby Weston. All rights reserved. (see some old <a class="text-gray-600 hover:text-sky-600" href="/code/">code</a>)</p> </div> </footer> </body></html>