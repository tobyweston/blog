<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Astro v5.17.3"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><!-- Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-1PVLDLDJQN"></script><script>(function(){const gaId = "G-1PVLDLDJQN";

      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', gaId);
    })();</script><!-- Canonical URL --><link rel="canonical" href="https://baddotrobot.com/blog/2019-09-02-deploy-java-to-debian/"><!-- RSS Feed --><link rel="alternate" type="application/rss+xml" title="bad.robot" href="/rss.xml"><!-- Primary Meta Tags --><title>Easily Deploy Java to Debian</title><meta name="title" content="Easily Deploy Java to Debian"><meta name="description" content="Package Java, Scala, or Kotlin apps as .deb files and deploy via apt. Level up your distribution strategy with proper Debian package management."><meta name="keywords" content="Java deployment, Debian, .deb package, apt, aptly, Scala, Kotlin, Linux deployment, distribution"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://baddotrobot.com/blog/2019-09-02-deploy-java-to-debian/"><meta property="og:title" content="Easily Deploy Java to Debian"><meta property="og:description" content="Package Java, Scala, or Kotlin apps as .deb files and deploy via apt. Level up your distribution strategy with proper Debian package management."><meta property="og:image" content="https://baddotrobot.com/images/heroes/java-code.jpg"><meta property="og:site_name" content="bad.robot"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://baddotrobot.com/blog/2019-09-02-deploy-java-to-debian/"><meta property="twitter:title" content="Easily Deploy Java to Debian"><meta property="twitter:description" content="Package Java, Scala, or Kotlin apps as .deb files and deploy via apt. Level up your distribution strategy with proper Debian package management."><meta property="twitter:image" content="https://baddotrobot.com/images/heroes/java-code.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Easily Deploy Java to Debian","description":"Package Java, Scala, or Kotlin apps as .deb files and deploy via apt. Level up your distribution strategy with proper Debian package management.","datePublished":"2019-09-02T00:00:00.000Z","image":"https://baddotrobot.com/images/heroes/devops.jpg","url":"https://baddotrobot.com/blog/2019-09-02-deploy-java-to-debian/","author":{"@type":"Person","name":"Toby Weston","url":"https://baddotrobot.com"},"publisher":{"@type":"Person","name":"bad.robot"}}</script><link rel="stylesheet" href="/_astro/index.CzF6U4o9.css">
<link rel="stylesheet" href="/_astro/_slug_.DbZHOt6G.css"></head> <body class="bg-white text-gray-900"> <header class="header" data-astro-cid-3ef6ksr2> <div class="header-container" data-astro-cid-3ef6ksr2> <div class="logo-section" data-astro-cid-3ef6ksr2> <a href="/" class="logo-link" data-astro-cid-3ef6ksr2> <img src="/_astro/robot-logo_105x132.N1ZQY9mA_Zj02tT.webp" alt="bad.robot logo" data-astro-cid-3ef6ksr2="true" loading="lazy" decoding="async" fetchpriority="auto" width="84" height="106" class="logo-image"> <div class="logo-text-block" data-astro-cid-3ef6ksr2> <h1 class="logo-title logo-text header-logo-text" data-astro-cid-3ef6ksr2>bad.robot</h1> <h2 class="logo-subtitle logo-subtitle-text header-subtitle" data-astro-cid-3ef6ksr2>good robots do what they&#39;re told</h2> </div> </a> </div> <nav class="nav" data-astro-cid-3ef6ksr2> <a href="/blog" data-astro-cid-3ef6ksr2>Blog</a> <a href="/book" data-astro-cid-3ef6ksr2>Books</a> <a href="/video" data-astro-cid-3ef6ksr2>Videos</a> <a href="/archive" data-astro-cid-3ef6ksr2>Archive</a> </nav> </div> </header>  <main id="site-main" class="mx-auto w-full max-w-6xl px-4 pt-4">   <div class="py-12"> <article class=""> <!--{heroImage && (--> <!--  <div class="hero-image mb-8">--> <!--    <img src={heroImage} alt={title} class="w-full h-auto rounded-lg shadow-lg" />--> <!--  </div>--> <!--)}--> <div class="article-title-section mb-8"> <p class="detail-kicker">Blog</p> <h1 class="article-title-section h1">Easily Deploy Java to Debian</h1> <p class="article-subtitle">Package and distribute Java applications via .deb files and apt repositories</p> <p class="article-description">Package Java, Scala, or Kotlin apps as .deb files and deploy via apt. Level up your distribution strategy with proper Debian package management.</p> </div> <div class="article-meta"> <div class="article-date"> <strong>Published:</strong> <time datetime="2019-09-02T00:00:00.000Z"> Sep 2, 2019 </time> </div>  </div> <div class="prose">  <p>Level up the way you distribute your Java/Scala/Kotlin applications by packaging them as <code>.deb</code> files and deploying via <code>apt</code>.</p>
<h2 id="approach">Approach</h2>
<p>The basic approach:</p>
<ol>
<li>Create a <code>.deb</code> package using <code>sbt</code> and the excellent <code>sbt-native-packager</code></li>
<li>Create your own Debian repository, add your packages and then serve them over HTTP</li>
<li>Tell your customers where your repository is hosted</li>
<li>Profit</li>
</ol>
<p>This post looks at the first step, creating the <code>.deb</code> package using the <code>sbt-native-packager</code> plugin. In the <a href="/blog/2019-09-03-create-debian-repositories/">next post</a>, we”ll look at how setup your own <a href="https://wiki.debian.org/DebianRepository">debian repository</a> so users can install and upgrade your software via <code>apt-get</code> to popular Linux distros like Debian and Ubuntu.</p>
<p>Thanks and appreciation to <a href="https://github.com/muuki88">@muuki88</a> and the project maintainers for <code>sbt-native-manager</code>, it’s a seriously useful piece of software.</p>
<h2 id="packaging">Packaging</h2>
<p>The <a href="https://www.scala-sbt.org/sbt-native-packager/index.html"><code>sbt-native-packager</code></a> plugin can create platform specific distributions for any <code>sbt</code> project. It can create a simple zip bundle for your application (the <code>universal</code> package), tarballs, rpms, Mac dmgs, Windows MSIs, Docker images and, the one we’re interested in, <code>.deb</code> files. Debian and derivatives like Ubuntu use this package format with <code>dpkg</code> and <code>apt</code> as the standard way to install and manage software. If you want to make it easy for Linux user’s to get hold of your software, this is the way to do it.</p>
<h3 id="native-packager-core-concepts">Native Packager Core Concepts</h3>
<p>The native packager takes care of packaging, the act of putting a list of <em>mappings</em> (source file to install target path) into the chosen package format (zip, rpm, etc.). Each <a href="https://www.scala-sbt.org/sbt-native-packager/formats/index.html">packaging format</a> you use will expect the package specific files in a specific folder location in your source. For example, the Universal plugin will look in <code>src\universal</code> for files to add to the zip. Debian packaging will look for <code>src\debian</code>.</p>
<p>You’ll need to read up a little on how to use the plugin, see <a href="https://www.scala-sbt.org/sbt-native-packager/formats/debian.html">Debian specific instructions</a> but the core concepts include:</p>
<ol>
<li><a href="https://www.scala-sbt.org/sbt-native-packager/introduction.html#format-plugins">Packaging format plugins</a> - <em>how</em> an application is packaged; universal, linux, debian, rpm, docker, windows etc</li>
<li><a href="https://www.scala-sbt.org/sbt-native-packager/introduction.html#archetype-plugins">Archetype plugins</a> - <em>what’s</em> packaged (predefined configurations); java application, java server application, system loaders etc</li>
<li><a href="https://www.scala-sbt.org/sbt-native-packager/introduction.html#mappings">Mappings</a> map source files to target system locations</li>
</ol>
<p>The native packager uses <a href="https://www.scala-sbt.org/sbt-native-packager/archetypes/index.html">Project Arcetypes</a> like the <a href="https://www.scala-sbt.org/sbt-native-packager/archetypes/java_app/index.html">Java CLI Application Archetype</a> or <a href="https://www.scala-sbt.org/sbt-native-packager/archetypes/java_server/index.html">Java Server Application Archetype</a> to add additional files to the mappings enriching the created package. They don’t provide any new features per se.</p>
<h3 id="running-as-a-service">Running as a Service</h3>
<p>One of the many awesome features of the packager is that it can set your application up as a service on the target system. For example, if you want to start your application using <code>systemd</code>, just add a <code>enablePlugins(SystemdPlugin)</code> line to your build. The OS will take care of everything else, even restarting your application should it crash.</p>
<p>The native packagers doesn’t provide application lifecycle management, however. Custom start/stop scripts, PID management, etc. are not part of native packager.</p>
<h3 id="extras">Extras</h3>
<p>For some additional nice to haves, you might consider adding <code>man</code> pages (with <code>ronn</code>), creating a “fat” JAR (with <a href="https://github.com/sbt/sbt-assembly"><code>sbt-assembly</code></a> plugin) and stripping unused Scala library classes with ProGuard.</p>
<h2 id="deploying-debian-repository">Deploying Debian Repository</h2>
<p>The native packager doesn’t take care of deployment. You use it to create your <code>.deb</code> package but what you do with it is down to you. The obvious choice is to deploy it to a Debian repository for your users to download via <code>apt</code>. Read the <a href="/blog/2019-09-03-create-debian-repositories/">next post</a> to find out how.</p>  </div> </article> </div>  </main> <footer class="py-8 border-t border-gray-200 mt-12"> <div class="container mx-auto px-4 text-center"> <p class="text-xs text-gray-600">&copy; 2008-2026 Toby Weston. All rights reserved. (see some old <a class="text-gray-600 hover:text-sky-600" href="/code/">code</a>)</p> </div> </footer> </body></html>