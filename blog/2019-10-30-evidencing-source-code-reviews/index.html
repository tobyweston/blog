<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Astro v5.17.3"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><!-- Canonical URL --><link rel="canonical" href="https://baddotrobot.com/blog/2019-10-30-evidencing-source-code-reviews/"><!-- RSS Feed --><link rel="alternate" type="application/rss+xml" title="bad.robot" href="/rss.xml"><!-- Primary Meta Tags --><title>Evidencing Source Code Reviews</title><meta name="title" content="Evidencing Source Code Reviews"><meta name="description" content="How to evidence source code reviews in regulated environments. Signed commits and pair programming as a code review mechanism without wasteful bureaucracy."><meta name="keywords" content="code review, signed commits, pair programming, MAS, regulated industry, git, crypto evidence, pull requests"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://baddotrobot.com/blog/2019-10-30-evidencing-source-code-reviews/"><meta property="og:title" content="Evidencing Source Code Reviews"><meta property="og:description" content="How to evidence source code reviews in regulated environments. Signed commits and pair programming as a code review mechanism without wasteful bureaucracy."><meta property="og:image" content="https://baddotrobot.com/images/heroes/java-code.jpg"><meta property="og:site_name" content="bad.robot"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://baddotrobot.com/blog/2019-10-30-evidencing-source-code-reviews/"><meta property="twitter:title" content="Evidencing Source Code Reviews"><meta property="twitter:description" content="How to evidence source code reviews in regulated environments. Signed commits and pair programming as a code review mechanism without wasteful bureaucracy."><meta property="twitter:image" content="https://baddotrobot.com/images/heroes/java-code.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Evidencing Source Code Reviews","description":"How to evidence source code reviews in regulated environments. Signed commits and pair programming as a code review mechanism without wasteful bureaucracy.","datePublished":"2019-10-30T00:00:00.000Z","url":"https://baddotrobot.com/blog/2019-10-30-evidencing-source-code-reviews/","author":{"@type":"Person","name":"Toby Weston","url":"https://baddotrobot.com"},"publisher":{"@type":"Person","name":"bad.robot"}}</script><link rel="stylesheet" href="/_astro/index.BIJT_GkW.css">
<link rel="stylesheet" href="/_astro/_slug_.CTb-p3zm.css"></head> <body class="bg-white text-gray-900"> <header class="header" data-astro-cid-3ef6ksr2> <div class="header-container" data-astro-cid-3ef6ksr2> <div class="logo-section" data-astro-cid-3ef6ksr2> <a href="/" class="logo-link" data-astro-cid-3ef6ksr2> <img src="/_astro/robot-logo_105x132.N1ZQY9mA_Zj02tT.webp" alt="bad.robot logo" data-astro-cid-3ef6ksr2="true" loading="lazy" decoding="async" fetchpriority="auto" width="84" height="106" class="logo-image"> <div class="logo-text-block" data-astro-cid-3ef6ksr2> <h1 class="logo-title logo-text header-logo-text" data-astro-cid-3ef6ksr2>bad.robot</h1> <h2 class="logo-subtitle logo-subtitle-text header-subtitle" data-astro-cid-3ef6ksr2>good robots do what they&#39;re told</h2> </div> </a> </div> <nav class="nav" data-astro-cid-3ef6ksr2> <a href="/blog" data-astro-cid-3ef6ksr2>Blog</a> <a href="/book" data-astro-cid-3ef6ksr2>Books</a> <a href="/video" data-astro-cid-3ef6ksr2>Videos</a> <a href="/archive" data-astro-cid-3ef6ksr2>Archive</a> </nav> </div> </header>  <main id="site-main" class="mx-auto w-full max-w-6xl px-4 pt-4">   <div class="py-12"> <article class=""> <div class="article-title-section mb-8"> <p class="detail-kicker">Blog</p> <h1 class="article-title-section h1">Evidencing Source Code Reviews</h1>  <p class="article-description">How to evidence source code reviews in regulated environments. Signed commits and pair programming as a code review mechanism without wasteful bureaucracy.</p> </div> <div class="article-meta"> <div class="article-date"> <strong>Published:</strong> <time datetime="2019-10-30T00:00:00.000Z"> Oct 30, 2019 </time> </div>  </div> <div class="prose">  <p>Many industries need to evidence that code reviews have taken place. This is typical in regulated environments like Banking but the Regulators aren‚Äôt clear what constitutes a good source code review process and don‚Äôt yet understand modern practices like Pair Programming. They can‚Äôt help you streamline your process.</p>
<p>The result is a tension between old-fashioned bureaucracy and modern development practices; the need to prove you have a rigorous process in-place and the desire to push frequent releases to production without wasteful paperwork.</p>
<h2 id="the-regulators">The Regulators</h2>
<p>The Monetary Authority of Singapore (MAS) is Singapore‚Äôs central bank and regulatory authority. If you want to do business in Singapore, you need to comply with their regulations. They‚Äôve published what they call the Technology Risk Management (TRM) Guidelines to help with ‚Äúthe adoption of sound practices and processes for managing technology‚Äù. Each financial institution with an interest in Singapore is expected to adopt these guidelines with the following caveat.</p>
<blockquote>
<p>Financial institutions (FIs) may adapt these guidelines, taking into account the diverse activities they engage in and the markets in which they conduct transactions. FIs should read the Guidelines in conjunction with relevant regulatory requirements and industry standards.<br>
‚Äî <cite>Monetary Authority of Singapore, TRM Guidelines - section 2.0.1</cite></p>
</blockquote>
<p>One area of the TRM guidelines talks about the need to conduct code reviews (section 6.3). Each institution must interpret these guidelines and be comfortable articulating how the manage the source code review process. The TRM guidelines don‚Äôt say <em>how</em> to conduct reviews and doing effective code reviews is hard.</p>
<p>Regulators struggle to keep up with modern software development practices and how they can help give confidence that guidelines are being followed. They struggle to assess the impact of things like containerised deployments and having data on the public cloud. For source code reviews, each institution must adapt the guidelines to fit their development practices but at a minimum, each should be able to provide evidence.</p>
<h2 id="evidence">Evidence</h2>
<p>So how do we evidence that code reviews have taken place? A traditional process would be to conduct an out-of-band code review (after the coding task has been completed) and document it via some tool like Codacy or Crucible. GitHub (and GitHub Enterprise) have nice integrated review tools and BitBucket have something similar. These are often combined with the act of merging a Pull Request, i.e. you do the code review when you accept a PR.</p>
<h3 id="trunk-based-development-vs-branch">Trunk Based Development vs Branch</h3>
<p>Tools that combine merging branches with code reviews <strong>conflate two distinct ideas</strong> (managing your source code and peer reviewing source code). If you do both actions together, your branching model has been chosen for you and doing trunk based development (TBD) becomes harder. If you do try for TBD and use short lived branches purely to facilitate code reviews, <strong>you‚Äôre introducing waste</strong> (albeit the cost may be reclaimed somewhat by the tooling that motivated the decision).</p>
<p>Trunk based development has lots of advantages in it own right, not least of which is that it offers <strong>continuous integration</strong> (CI). CI has been around since the early 90s and helps reduce the feedback loop for dev teams. Compared to long running feature branches where by definition, integration takes place intermittently and infrequently, it helps find potential problems early.</p>
<blockquote>
<p>Continuous Integration doesn‚Äôt get rid of bugs, but it does make them dramatically easier to find and remove.<br>
‚Äî <cite>Martin Fowler, Chief Scientist @ ThoughtWorks</cite></p>
</blockquote>
<h3 id="pair-programming-vs-code-reviews">Pair Programming vs Code Reviews</h3>
<p>Pair Programming as an alternative to traditional out-of-band code reviews offer significant advantages. Again, mostly this is around <strong>shortening the feedback loop</strong> and fixing potential problems early. If code reviews are a good idea, why not do them all the time? When you‚Äôre actually coding and not when you‚Äôve finished?</p>
<p>So how do you practice trunk based developed, utilise Pair Programming and still provide evidence that you‚Äôve had multiple developers work on a single piece of code? Perhaps ‚Äúcrypto-evidence‚Äù can help.</p>
<h2 id="crypto-evidence">Crypto-evidence</h2>
<p>Crypto-evidence is a term I made up for this post but it implies that we should be able to supply evidence that can be proven via cryptographical means. With traditional techniques, a code reviewer can be proven to be who she says she is (and that she‚Äôs a different person than the original author) by the login credentials used with the review and VCS tools. These would be encrypted and so (in theory) can not be subverted or faked. Assuming the rest of the review is locked down, we have our evidence.</p>
<h3 id="git-digital-signatures">Git Digital Signatures</h3>
<p>Git is probably the most widely used VCS today (some figures suggesting it‚Äôs used by 70% of projects). It offers a feature called <strong>signed commits</strong> whereby the person committing code digitally signs the commit with GPG. This can be retrieved (along with the author information) and, in theory, prove a different individual ‚Äúsigned‚Äù a commit than it‚Äôs author. This signature could be used as a sign-off for a code review as only the signatory knows her passphrase. Just use <code>-S</code> (not <code>-s</code>):</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> git</span><span style="color:#79B8FF"> -S</span><span style="color:#79B8FF"> -m</span><span style="color:#9ECBFF"> "initial commit"</span></span></code></pre>
<p>‚Ä¶and verify with <code>git log --show-signature</code>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> git</span><span style="color:#9ECBFF"> log</span><span style="color:#79B8FF"> --show-signature</span></span>
<span class="line"><span style="color:#B392F0">commit</span><span style="color:#9ECBFF"> d001cb9e78a2dbf4ce8ddad3eb2fe8b14234e3c5</span><span style="color:#E1E4E8"> (HEAD -</span><span style="color:#F97583">></span><span style="color:#9ECBFF"> master</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#B392F0">gpg:</span><span style="color:#9ECBFF"> Signature</span><span style="color:#9ECBFF"> made</span><span style="color:#9ECBFF"> Wed</span><span style="color:#79B8FF"> 30</span><span style="color:#9ECBFF"> Oct</span><span style="color:#9ECBFF"> 12:37:18</span><span style="color:#79B8FF"> 2019</span><span style="color:#9ECBFF"> GMT</span></span>
<span class="line"><span style="color:#B392F0">gpg:</span><span style="color:#9ECBFF">                using</span><span style="color:#9ECBFF"> RSA</span><span style="color:#9ECBFF"> key</span><span style="color:#9ECBFF"> 39E273602</span></span>
<span class="line"><span style="color:#B392F0">gpg:</span><span style="color:#9ECBFF"> Good</span><span style="color:#9ECBFF"> signature</span><span style="color:#9ECBFF"> from</span><span style="color:#9ECBFF"> "Toby (baddotrobot.com) &#x3C;toby@badrobot.com>"</span><span style="color:#E1E4E8"> [ultimate]</span></span>
<span class="line"><span style="color:#B392F0">Author:</span><span style="color:#9ECBFF"> Toby</span><span style="color:#F97583"> &#x3C;</span><span style="color:#9ECBFF">toby@badrobot.co</span><span style="color:#E1E4E8">m</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#B392F0">Date:</span><span style="color:#9ECBFF">   Wed</span><span style="color:#9ECBFF"> Oct</span><span style="color:#79B8FF"> 30</span><span style="color:#9ECBFF"> 12:37:18</span><span style="color:#79B8FF"> 2019</span><span style="color:#9ECBFF"> +0000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    initial</span><span style="color:#9ECBFF"> commit</span></span>
<span class="line"></span></code></pre>
<p>The key line includes <code>Signature made ... using RSA key 39E273602</code>. Job done? Not quite‚Ä¶</p>
<h3 id="proving-pair-programming">Proving Pair Programming</h3>
<p>Assuming we want to prove Pair Programming was used, we need to show an alternative author from the signatory. We can do that either supplying the <code>--author</code> argument or (more practically) sharing the team‚Äôs private keys securely and signing based on who‚Äôs at the computer.</p>
<ol>
<li>
<p>On my computer (the default key is set with <code>git config --global user.signingkey 39E273602</code>) and with Barry pairing:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> git</span><span style="color:#9ECBFF"> commit</span><span style="color:#79B8FF"> -S</span><span style="color:#79B8FF"> --author=</span><span style="color:#9ECBFF">"Barry &#x3C;barry@badrobot.com>"</span><span style="color:#79B8FF"> -m</span><span style="color:#9ECBFF"> "commit from Toby's machine with Barry as the author"</span></span></code></pre>
</li>
<li>
<p>Or, if each machine has every developer‚Äôs private key installed in GPG, we can rotate developers and sign from any machine.</p>
<p>From Barry‚Äôs machine (with Toby pairing):</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> git</span><span style="color:#9ECBFF"> commit</span><span style="color:#79B8FF"> -Stoby</span><span style="color:#79B8FF"> -m</span><span style="color:#9ECBFF"> "commit as Barry with Toby signing the commit"</span></span></code></pre>
</li>
</ol>
<p>Both would result in something like the following.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> git</span><span style="color:#9ECBFF"> log</span><span style="color:#79B8FF"> --show-signature</span></span>
<span class="line"><span style="color:#B392F0">commit</span><span style="color:#9ECBFF"> e128af7f51e272eae29cee8f1c124ec0be3b64ad</span><span style="color:#E1E4E8"> (HEAD -</span><span style="color:#F97583">></span><span style="color:#9ECBFF"> master</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#B392F0">gpg:</span><span style="color:#9ECBFF"> Signature</span><span style="color:#9ECBFF"> made</span><span style="color:#9ECBFF"> Wed</span><span style="color:#79B8FF"> 30</span><span style="color:#9ECBFF"> Oct</span><span style="color:#9ECBFF"> 12:54:49</span><span style="color:#79B8FF"> 2019</span><span style="color:#9ECBFF"> GMT</span></span>
<span class="line"><span style="color:#B392F0">gpg:</span><span style="color:#9ECBFF">                using</span><span style="color:#9ECBFF"> RSA</span><span style="color:#9ECBFF"> key</span><span style="color:#9ECBFF"> 39E273602</span></span>
<span class="line"><span style="color:#B392F0">gpg:</span><span style="color:#9ECBFF"> Good</span><span style="color:#9ECBFF"> signature</span><span style="color:#9ECBFF"> from</span><span style="color:#9ECBFF"> "Toby (baddotrobot.com) &#x3C;toby@badrobot.com>"</span><span style="color:#E1E4E8"> [ultimate]</span></span>
<span class="line"><span style="color:#B392F0">Author:</span><span style="color:#9ECBFF"> Barry</span><span style="color:#F97583"> &#x3C;</span><span style="color:#9ECBFF">barry@badrobot.co</span><span style="color:#E1E4E8">m</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#B392F0">Date:</span><span style="color:#9ECBFF">   Wed</span><span style="color:#9ECBFF"> Oct</span><span style="color:#79B8FF"> 30</span><span style="color:#9ECBFF"> 12:54:49</span><span style="color:#79B8FF"> 2019</span><span style="color:#9ECBFF"> +0000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    commit</span><span style="color:#9ECBFF"> as</span><span style="color:#9ECBFF"> Barry</span><span style="color:#9ECBFF"> with</span><span style="color:#9ECBFF"> Toby</span><span style="color:#9ECBFF"> signing</span><span style="color:#9ECBFF"> the</span><span style="color:#9ECBFF"> commit</span></span>
<span class="line"></span></code></pre>
<p>Showing Toby as the signatory (code reviewer) and Barry as the the author. Cryptographically provable that two developers worked on the code.</p>
<p>When you force each commit to be signed (with <code>git config --global commit.gpgsign true</code>), you should be able to build a report from the Git log showing every commit was paired on and so code reviewed.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> git</span><span style="color:#9ECBFF"> lgs</span></span>
<span class="line"><span style="color:#F97583">*</span><span style="color:#E1E4E8"> e128af7 - (</span><span style="color:#B392F0">HEAD</span><span style="color:#E1E4E8"> -</span><span style="color:#F97583">></span><span style="color:#9ECBFF"> master</span><span style="color:#E1E4E8">) commit showing alt author (</span><span style="color:#B392F0">21</span><span style="color:#9ECBFF"> minutes</span><span style="color:#9ECBFF"> ago</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8">Barry</span><span style="color:#F97583">></span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">üîí</span><span style="color:#9ECBFF"> Toby</span><span style="color:#F97583"> &#x3C;</span><span style="color:#9ECBFF">toby@badrobot.com.co</span><span style="color:#E1E4E8">m</span><span style="color:#F97583">></span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">*</span><span style="color:#E1E4E8"> fa6f6e5 - commit showing alt author (</span><span style="color:#B392F0">34</span><span style="color:#9ECBFF"> minutes</span><span style="color:#9ECBFF"> ago</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8">Barry</span><span style="color:#F97583">></span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">üîí</span><span style="color:#9ECBFF"> Toby</span><span style="color:#F97583"> &#x3C;</span><span style="color:#9ECBFF">toby@badrobot.com.co</span><span style="color:#E1E4E8">m</span><span style="color:#F97583">></span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">*</span><span style="color:#E1E4E8"> d001cb9 - initial commit (</span><span style="color:#B392F0">38</span><span style="color:#9ECBFF"> minutes</span><span style="color:#9ECBFF"> ago</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8">Toby</span><span style="color:#F97583">></span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">üîí</span><span style="color:#9ECBFF"> Barry</span><span style="color:#F97583"> &#x3C;</span><span style="color:#9ECBFF">barry@badrobot.com.co</span><span style="color:#E1E4E8">m</span><span style="color:#F97583">></span><span style="color:#E1E4E8">)</span></span></code></pre>
<h3 id="sharing-and-importing-secrets">Sharing and Importing Secrets</h3>
<p>To share private keys, export your key (you may choose to share this via Git alongside your source code).</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> gpg</span><span style="color:#79B8FF"> --export-secret-key</span><span style="color:#79B8FF"> --armor</span><span style="color:#9ECBFF"> toby@badrobot.com</span><span style="color:#F97583"> ></span><span style="color:#9ECBFF"> secretkey_toby.asc</span></span></code></pre>
<p>‚Ä¶and import it on each developer‚Äôs machine.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">gpg</span><span style="color:#79B8FF"> --import</span><span style="color:#9ECBFF"> secretkey_toby.asc</span></span></code></pre>
<p>Just pass in the name you used when creating the key to the <code>-S</code> argument. In my case <code>-Stoby</code>.</p>
<h1 id="why-it-doesnt-work">Why it Doesn‚Äôt Work</h1>
<p>Unfortunately, this technique doesn‚Äôt come without problems.</p>
<ul>
<li>Rebasing will overwrite the signatories</li>
<li>Tool support means the terminal is the only option</li>
<li>Sharing private keys</li>
</ul>
<p>Rebasing will rewrite a commit after pulling down changes. As it attempts to rewrite the commit, it will take your <code>commit.gpgsign</code> setting into account and potentially overwrite someone else‚Äôs signature with your own. If the setting is <code>false</code>, it will appear as if there was no signature at all. This is potentially a deal breaker as rebasing (even from a single branch, as is the case for TBD) is a <strong>very</strong> common use case. Even when merging rather than rebasing, it only takes one rebase to subvert the entire process.</p>
<p>IDE support is also limited. IntelliJ IDEA doesn‚Äôt support it (vote for the <a href="https://youtrack.jetbrains.com/issue/IDEA-110261">issue here</a>) so you‚Äôre left to use the command line for commits. Your VCS system might also cause your problems - your organisation might reject commits where the <code>--author</code> has changed which may limit your options.</p>
<h2 id="summary">Summary</h2>
<p>Git‚Äôs signed commit feature was never meant for this. It‚Äôs really a way to prove a commit came from who it was claimed to come from. It was motivated by large open source projects where the authenticity of commits is required (for example, for merging only from trusted authors). We‚Äôre trying to misuse the feature here and we get someway in achieving our goals with it. It just breaks down in a few key areas.</p>
<p>A warning from Git‚Äôs own documentation:</p>
<blockquote>
<p>Signing tags and commits is great, but if you decide to use this in your normal workflow, you‚Äôll have to make sure that everyone on your team understands how to do so. If you don‚Äôt, you‚Äôll end up spending a lot of time helping people figure out how to rewrite their commits with signed versions. Make sure you understand GPG and the benefits of signing things before adopting this as part of your standard workflow.
‚Äî <cite>Signing Your Work <a href="https://git-scm.com/book/en/v2/Git-Tools-Signing-Your-Work">https://git-scm.com/book/en/v2/Git-Tools-Signing-Your-Work</a> Git Tools<cite></cite></cite></p>
</blockquote>
<p>I‚Äôd love to know you‚Äôre experiences with TBD, Pair Programming and evidencing source code reviews, let me know below.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://git-scm.com/book/en/v2/Git-Tools-Signing-Your-Work">Git - Signing your Work</a></li>
<li><a href="https://softwareengineering.stackexchange.com/questions/136079/are-there-any-statistics-that-show-the-popularity-of-git-versus-svn">Git adoption figures</a></li>
<li><a href="https://www.toptal.com/software/trunk-based-development-git-flow">TBD vs Branching</a></li>
<li><a href="https://www.mas.gov.sg/-/media/MAS/Regulations-and-Financial-Stability/Regulatory-and-Supervisory-Framework/Risk-Management/TRM-Guidelines--21-June-2013.pdf">Technology Risk Management Guidelines from the MAS</a></li>
</ul>
<h2 id="miscellaneous-setup">Miscellaneous Setup</h2>
<h3 id="reporting">Reporting</h3>
<p>With the following alias, you can print a nice one liner per commit including who signed it.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> git</span><span style="color:#9ECBFF"> config</span><span style="color:#79B8FF"> --global</span><span style="color:#9ECBFF"> alias.lgs</span><span style="color:#9ECBFF"> "log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&#x3C;%an>%Creset %C(yellow)(üîí %GS)%Creset' --abbrev-commit --date=relative"</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> git</span><span style="color:#9ECBFF"> lgs</span></span>
<span class="line"><span style="color:#F97583">*</span><span style="color:#E1E4E8"> e128af7 - (</span><span style="color:#B392F0">HEAD</span><span style="color:#E1E4E8"> -</span><span style="color:#F97583">></span><span style="color:#9ECBFF"> master</span><span style="color:#E1E4E8">) commit showing alt author (</span><span style="color:#B392F0">21</span><span style="color:#9ECBFF"> minutes</span><span style="color:#9ECBFF"> ago</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8">Barry</span><span style="color:#F97583">></span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">üîí</span><span style="color:#9ECBFF"> Toby</span><span style="color:#F97583"> &#x3C;</span><span style="color:#9ECBFF">toby@badrobot.com.co</span><span style="color:#E1E4E8">m</span><span style="color:#F97583">></span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">*</span><span style="color:#E1E4E8"> fa6f6e5 - commit showing alt author (</span><span style="color:#B392F0">34</span><span style="color:#9ECBFF"> minutes</span><span style="color:#9ECBFF"> ago</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8">Barry</span><span style="color:#F97583">></span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">üîí</span><span style="color:#9ECBFF"> Toby</span><span style="color:#F97583"> &#x3C;</span><span style="color:#9ECBFF">toby@badrobot.com.co</span><span style="color:#E1E4E8">m</span><span style="color:#F97583">></span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">*</span><span style="color:#E1E4E8"> d001cb9 - initial commit (</span><span style="color:#B392F0">38</span><span style="color:#9ECBFF"> minutes</span><span style="color:#9ECBFF"> ago</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8">Toby</span><span style="color:#F97583">></span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">üîí</span><span style="color:#9ECBFF"> Barry</span><span style="color:#F97583"> &#x3C;</span><span style="color:#9ECBFF">barry@badrobot.com.co</span><span style="color:#E1E4E8">m</span><span style="color:#F97583">></span><span style="color:#E1E4E8">)</span></span></code></pre>
<h3 id="troubleshooting">Troubleshooting</h3>
<p>To test your GPG program, run the following.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> echo</span><span style="color:#9ECBFF"> "test"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> gpg</span><span style="color:#79B8FF"> --clearsign</span></span></code></pre>
<p>If the output includes the following.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">gpg:</span><span style="color:#9ECBFF"> signing</span><span style="color:#9ECBFF"> failed:</span><span style="color:#9ECBFF"> Inappropriate</span><span style="color:#9ECBFF"> ioctl</span><span style="color:#9ECBFF"> for</span><span style="color:#9ECBFF"> device</span></span>
<span class="line"><span style="color:#B392F0">gpg:</span><span style="color:#E1E4E8"> [stdin]: clear-sign failed: Inappropriate ioctl </span><span style="color:#F97583">for</span><span style="color:#E1E4E8"> device</span></span></code></pre>
<p>You may need to run the following (I did on MacOSX).</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> export</span><span style="color:#9ECBFF"> GPG_TTY=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">tty</span><span style="color:#E1E4E8">)</span></span></code></pre>  </div> </article> </div>  </main> <footer class="py-8 border-t border-gray-200 mt-12"> <div class="container mx-auto px-4 text-center"> <p class="text-xs text-gray-600">&copy; 2008-2026 Toby Weston. All rights reserved. (see some old <a class="text-gray-600 hover:text-sky-600" href="/code/">code</a>)</p> </div> </footer> </body></html>