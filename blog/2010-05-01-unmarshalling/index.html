<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Astro v5.17.3"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><!-- Canonical URL --><link rel="canonical" href="https://baddotrobot.com/blog/2010-05-01-unmarshalling/"><!-- RSS Feed --><link rel="alternate" type="application/rss+xml" title="bad.robot" href="/rss.xml"><!-- Primary Meta Tags --><title>Un/Marshalling</title><meta name="title" content="Un/Marshalling"><meta name="description" content="Almost all unmarshalling frameworks impose constraints on your application. Sometimes rolling your own simple unmarshalling logic is simpler and more flexible."><meta name="keywords" content="Java unmarshalling, JAXB, Castor, JSON, XML, serialisation, framework trade-offs"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://baddotrobot.com/blog/2010-05-01-unmarshalling/"><meta property="og:title" content="Un/Marshalling"><meta property="og:description" content="Almost all unmarshalling frameworks impose constraints on your application. Sometimes rolling your own simple unmarshalling logic is simpler and more flexible."><meta property="og:image" content="https://baddotrobot.com/images/heroes/java-code.jpg"><meta property="og:site_name" content="bad.robot"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://baddotrobot.com/blog/2010-05-01-unmarshalling/"><meta property="twitter:title" content="Un/Marshalling"><meta property="twitter:description" content="Almost all unmarshalling frameworks impose constraints on your application. Sometimes rolling your own simple unmarshalling logic is simpler and more flexible."><meta property="twitter:image" content="https://baddotrobot.com/images/heroes/java-code.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Un/Marshalling","description":"Almost all unmarshalling frameworks impose constraints on your application. Sometimes rolling your own simple unmarshalling logic is simpler and more flexible.","datePublished":"2010-05-01T00:00:00.000Z","url":"https://baddotrobot.com/blog/2010-05-01-unmarshalling/","author":{"@type":"Person","name":"Toby Weston","url":"https://baddotrobot.com"},"publisher":{"@type":"Person","name":"bad.robot"}}</script><link rel="stylesheet" href="/_astro/index.CzF6U4o9.css">
<link rel="stylesheet" href="/_astro/_slug_.DbZHOt6G.css"></head> <body class="bg-white text-gray-900"> <header class="header" data-astro-cid-3ef6ksr2> <div class="header-container" data-astro-cid-3ef6ksr2> <div class="logo-section" data-astro-cid-3ef6ksr2> <a href="/" class="logo-link" data-astro-cid-3ef6ksr2> <img src="/_astro/robot-logo_105x132.N1ZQY9mA_Zj02tT.webp" alt="bad.robot logo" data-astro-cid-3ef6ksr2="true" loading="lazy" decoding="async" fetchpriority="auto" width="84" height="106" class="logo-image"> <div class="logo-text-block" data-astro-cid-3ef6ksr2> <h1 class="logo-title logo-text header-logo-text" data-astro-cid-3ef6ksr2>bad.robot</h1> <h2 class="logo-subtitle logo-subtitle-text header-subtitle" data-astro-cid-3ef6ksr2>good robots do what they&#39;re told</h2> </div> </a> </div> <nav class="nav" data-astro-cid-3ef6ksr2> <a href="/blog" data-astro-cid-3ef6ksr2>Blog</a> <a href="/book" data-astro-cid-3ef6ksr2>Books</a> <a href="/video" data-astro-cid-3ef6ksr2>Videos</a> <a href="/archive" data-astro-cid-3ef6ksr2>Archive</a> </nav> </div> </header>  <main id="site-main" class="mx-auto w-full max-w-6xl px-4 pt-4">   <div class="py-12"> <article class=""> <!--{heroImage && (--> <!--  <div class="hero-image mb-8">--> <!--    <img src={heroImage} alt={title} class="w-full h-auto rounded-lg shadow-lg" />--> <!--  </div>--> <!--)}--> <div class="article-title-section mb-8"> <p class="detail-kicker">Blog</p> <h1 class="article-title-section h1">Un/Marshalling</h1> <p class="article-subtitle">Why marshalling frameworks add complexity and how to avoid them</p> <p class="article-description">Almost all unmarshalling frameworks impose constraints on your application. Sometimes rolling your own simple unmarshalling logic is simpler and more flexible.</p> </div> <div class="article-meta"> <div class="article-date"> <strong>Published:</strong> <time datetime="2010-05-01T00:00:00.000Z"> May 1, 2010 </time> </div>  </div> <div class="prose">  <p>This post should probably be titled “Why I don’t like Unmarhsalling frameworks”. They just hack me off. I mean really,
who wants to have to use the Java objects that they make you use? It’s not that they don’t represent as objects the data that the frameworks unmarshall, they do. It’s more that the underlying data may or may not match your systems view of the domain. I don’t want to have to run some process to generate <code>Foo.java</code> only to convert it to <code>MyFoo.java</code>, I’d rather go straight to <code>MyFoo</code>.</p>
<p>I was using Castor to do the former some time ago. It sounded like a good idea, and I got going really quickly. However, I quickly didn’t like the objects its produced so had to modify the <code>mapping.xml</code> to “tailor” the marshalling. Still fine, this was ok for a while but soon enough I descended into a kind of Castor mapping hell. I seriously spent days trying to tweak things and had to compromise the model in the end.</p>
<p>After some reflection, I thought I’d try and dump Castor. I replaced the marshalling with merging to a Freemarker template and produced cleaner XML in under an hour. The unmarshalling, replaced with manually parsing the XML and inserting elements directly into objects. I couldn’t believe how much less pain I was feeling.</p>
<p>For me, the overhead of maintaining these more “manual” approaches is far less than working around any framework mismatches. If you’re lucky enough to find a marhsalling framework that can grow with you, fair play, but I’m heavily biased towards a more manual approach these days. Down with [insert framework here].</p>  </div> </article> </div>  </main> <footer class="py-8 border-t border-gray-200 mt-12"> <div class="container mx-auto px-4 text-center"> <p class="text-xs text-gray-600">&copy; 2008-2026 Toby Weston. All rights reserved. (see some old <a class="text-gray-600 hover:text-sky-600" href="/code/">code</a>)</p> </div> </footer> </body></html>